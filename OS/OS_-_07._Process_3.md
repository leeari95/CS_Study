# OS - 07. Process 3

 > 본 글은 반효경 교수님의 [운영체제 강의(2014)](http://www.kocw.net/home/search/kemView.do?kemId=1046323) 내용에 대해 학습하고 정리한 내용입니다. 

</br>

## PCB 도식화

* Process Control Block

![](https://i.imgur.com/YGAAkxq.png)

## Single and Multitheraded Processes 

![](https://i.imgur.com/hroNwUp.png)

## Thread의 4가지 장점

1. 응답성 (Responsiveness)
    * 사용자 입장에서 빠르다.
    * 스레드를 여러 개 가지는 경우, 하나의 스레드가 block 되었을 때 다른 스레드가 일하기 때문에 전체적으로 효율적이고 빠르게 작업을 처리할 수 있게 된다.
    * 이미지 파일을 읽어오는 동안에, 프로세스를 블록시키지 않고 화면에 다른 텍스트를 디스플레이 해둘 수 있다. (I/O의 결과를 보지 않고 작업할 수 있는 것들을 처리해주는 것과 같다.)
2. 자원 공유 (Resource sharing)
    * 하나의 프로세스를 만들고 내부에 N개 스레드를 만들면 code, data 영역을 공유하여 자원을 보다 효율적으로 사용할 수 있다.
3. 경제성 (Economy)
    * 프로세스를 하나 만드는 오버헤드보다, 프로세스 내에 스레드를 하나 추가하는 것이 오버헤드가 더 적다.
    * context switch가 일어날 때 `프로세스 -> 프로세스`의 오버헤드가 큰데, 프로세스 내부에서 `스레드 -> 스레드`의 context switch는 대부분의 문맥을 사용할 수 있기에 보다 더 간단하다.
4. 멀티 프로세서 환경에서의 장점 (Uitilization of Multi Proccesor Architecture)
    * 각각의 스레드가 서로 다른 CPU에서 병렬적으로 일을 할 수 있다.
    * 결과를 더 빨리 얻게 될 수 있다.

## 스레드를 구현하는 방법

* Kernel Threads
    * 특징
        * kernel의 지원을 받는다.
        * 스레드가 여러 개 있다는 사실을 운영체제가 알고 있다.
        * 스레드에서 스레드로 CPU가 넘어갈 때 CPU 스케줄링 하듯이 넘겨준다
    * 장점
        * 프로세스 내 스레드들이 병행 수행 가능하다.
        * 하나의 스레드가 block 되어도 다른 스레드는 계속 작업을 수행할 수 있다.
    * 단점
        * 커널 영역에서 스레드 생성, 관리를 하기에 context switch 등 오버헤드가 크다.
* User Threads
    * 특징
        * 라이브러리의 지원을 받는다. (사용자 수준에서 구현)
        * 스레드가 여러 개 있다는 사실을 운영체제가 모른다.
        * 프로세스 본인이 CPU 수행 단위를 여러 개 두어서 관리한다.
    * 장점
        * 커널의 관리를 받지 않아 스레드의 생성 및 관리의 부하가 적고 유연하게 관리할 수 있다.
        * 라이브러리만 있는 플랫폼이라면 그대로 프로그램을 사용할 수 있다는 점에서 이식성이 높다.
    * 단점
        * 커널은 프로세스 단위로 자원을 할당한다.
        * 하나의 스레드가 block 상태가 되면, 프로세스도 block 상태가 되고, 이에 모든 스레드가 대기하게 된다.
